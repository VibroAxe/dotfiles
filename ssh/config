IgnoreUnknown ProxyJump

Host *
    HashKnownHosts no
	ForwardAgent yes

host genesis
	user root

host virt-*
	user root
host lancache
	user root
host genesis
	user root

host bastion bastion.tnnt.co.uk
	HostName bastion.tnnt.co.uk
	ForwardAgent yes
	ControlMaster auto
	ControlPersist 10m
	Controlpath ~/.ssh/sock/ssh-%r@%h:%p.sock

host web.macrolevel.co.uk www.macrolevel.co.uk web www
	HostName www.macrolevel.co.uk
	ForwardAgent yes

host git.macrolevel.co.uk
	HostName git.macrolevel.co.uk
	ForwardAgent yes

host smarthome.tnnt.co.uk smarthome
  ForwardAgent Yes
  LocalForward 8080 localhost:8080
  LocalForward 8081 localhost:80
  LocalForward 8443 localhost:443

host *.tnnt.co.uk
  ProxyJump bastion.tnnt.co.uk
  ProxyCommand ssh -W %h:%p bastion.tnnt.co.uk

host *.thesmarter.house
  ForwardAgent Yes
  LocalForward 8080 localhost:8080
  LocalForward 8081 localhost:80
  LocalForward 8443 localhost:443



host lanager.tnnt.co.uk
  ForwardAgent Yes
  HostName lanager.tnnt.co.uk

Host *+*
  ProxyCommand ssh $(echo %h | sed 's/+[^+]*$//;s/\([^+%%]*\)%%\([^+]*\)$/\2 -l \1/;s/:/ -p /') exec nc -w1 $(echo %h | sed 's/^.*+//;/:/!s/$/ %p/;s/:/ /')

